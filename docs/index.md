# Larasynth

Larasynth stands for the **L**earning **A**uto-**R**egistrant for **A**udio
**Synth**esizers. Larasynth can learn to turn your synthesizer's knobs for you
as you play.

Registrants are assistants to organists. For complicated organ pieces that
require the organ's stops to be adjusted regularly during performance, the
registrant adjusts the stops while the organist plays the keyboard and pedals.

Larasynth is like a registrant for musicians who play digital synthesizers
controlled by MIDI controllers. Larasynth can be trained to adjust your
synthesizer's continuous controller parameters as you play, allowing
for expressive control of the synthesizer that you cannot achieve alone.

## Requirements

Larasynth is a terminal application, so it requires basic experience with the
Unix style command line and editing text files.

Larasynth is known to run on the following operating systems:

* Linux with [JACK](http://www.jackaudio.org/)
* macOS 10.9 (Mavericks) or later

You also need:

* A MIDI controller (such as a keyboard) that can communicate with your
computer.
* A synthesizer which can be controlled by MIDI. This can be a software
synthesizer or a hardware synthesizer that can connect to your computer.
* A MIDI sequencer or a digital audio workstation (DAW) in which you can edit
MIDI tracks.

## Installation

Larasynth can be installed with Homebrew on macOS. Linux users will need to
build Larasynth from source.

### macOS

Using Homebrew is the easiest way to install Larasynth and be able to update it
in the future. If you prefer, you can also download pre-compiled macOS binaries
[here](https://github.com/sommern/larasynth/releases).

If you do not have Homebrew installed, install it now. It is a painless
installation: [https://brew.sh/](https://brew.sh/)

Now you can install Larasynth using `brew`:

```nohighlight
$ brew tap sommern/homebrew-repo
$ brew install larasynth
```

### From Source

You will need GCC, make, and [CMake](https://cmake.org/download/) installed 
to build Larasynth. This process is heavily modified on Windows, and is 
described in the below section titled "Windows."

Download the latest source from here:

[https://github.com/sommern/larasynth/releases](https://github.com/sommern/larasynth/releases)

Extract from the tarball, build, and install (replace X.Y.Z with the version
that you downloaded):

```nohighlight
$ tar zxf larasynth-X.Y.Z.tar.gz
$ cd larasynth-X.Y.Z
$ mkdir build
$ cd build
$ cmake ..
$ make
$ sudo make install
```

If you choose to use a different compiler than GCC (or MSVC on Windows), 
you will need to 
[change the generator used by CMake](https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html). 

#### Windows

It is recommended that you use MSVC as your compiler when on Windows. You 
do not need GCC or make to build Larasynth on Windows, but you still do 
need CMake. The process for building and installing is completely different 
on Windows after the point of running CMake.

In other words, you will not be running the following commands:

```nohighlight
$ make
$ sudo make install
```

##### Setting up MSVC

Download MSVC 
[here](https://visualstudio.microsoft.com/downloads/#remote-tools-for-visual-studio-2022). 
Make sure to download the *Build Tools for Visual Studio 2022*. Select 
*Desktop development with C++* when in the installer and then click *Install*. 
It's recommended that you restart your computer after installation has completed.

Instead of using the usual command line, MSVC requires that you use the 
Developer Command Prompt for VS. If you start typing "developer" in the 
Start menu, it should appear. **Run it as an administrator.** 
 
In the Developer Command Prompt, type:
```nohighlight
$ msbuild --version
```

This is to ensure that you have installed MSVC correctly. If you don't get something 
similar to the below output, you've done something wrong and need to start over:

```nohighlight
$ msbuild --version
MSBuild version 17.8.3+195e7f5a3 for .NET Framework
17.8.3.51904
```

##### Installing

At this point, make sure to run `cd [path to larasynth build folder]`, as the 
Developer Command Prompt will start out at the `System32` folder.

Instead of running `make` and `make install`, in the Developer Command Prompt, 
you will need to run `msbuild` on the INSTALL.vcxproj file produced by CMake:

```nohighlight
$ msbuild .\INSTALL.vcxproj -maxcpucount:8
```

The resulting executable will be in both the `build/src/Debug` folder and 
whatever folder is specified in the autogenerated `build/install_manifest.txt` 
(likely `C:/Program Files (x86)/larasynth/bin`).

You can run the executable using the command prompt or Powershell.

## Using Larasynth

See the [tutorial](tutorial.md) and the [topics guide](topics.md) for details
on using Larasynth.

## Contributors

- Nathan Sommer
    - [Github](https://github.com/sommern)

- Aaron Ripley
    - [Github](https://github.com/ripleya1)
